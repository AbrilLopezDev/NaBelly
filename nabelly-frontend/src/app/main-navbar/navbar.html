<nav class="bg-pink-custom shadow-md h-20 md:h-24 w-full relative px-4">
  <div class="w-full md:w-[60%] h-full mx-auto flex items-center justify-between relative">

    
    
    <button
      type="button"
      (pointerdown)="toggleMenu()"
      class="absolute left-4 top-1/2 -translate-y-1/2 z-20 p-2"
      aria-label="Abrir menú"
    >
      <i class="fas fa-bars text-red-custom text-5xl"></i>
    </button>

    <!-- Logo centrado -->
    <div class="absolute inset-0 flex items-center justify-center z-10">
      <a [routerLink]="'/inicio'">
        <img src="assets/logo.png" alt="Logo" class="h-20 md:h-36" />
      </a>
    </div>

    <!-- Iconos derecha -->
    <div class="flex items-center gap-4 ml-auto">
      <button class="p-2">
        <i class="fas fa-search text-red-custom text-4xl"></i>
      </button>

      <!-- Foto de perfil: ocultar en móvil -->
      <div class="w-12 h-12 rounded-full bg-gray-300 overflow-hidden cursor-pointer border-2 border-red-custom hidden md:block">
        <a [routerLink]="'/perfil'">
          <img
            [src]="usuario?.foto || 'assets/user.png'"
            alt="Perfil"
            class="w-full h-full object-cover"
          />
        </a>
      </div>

      <!-- Icono favoritos: ocultar en móvil -->
      <button class="p-2 hidden md:block">
        <a [routerLink]="'/favoritos'">
          <i class="fas fa-heart text-red-custom text-4xl"></i>
        </a>
      </button>
    </div>

  </div>
</nav>

<!-- MENÚ LATERAL -->
<aside
  class="fixed top-0 left-0 w-64 h-full bg-pink-custom text-white shadow-lg transform transition-transform duration-300 z-30"
  [class.-translate-x-full]="!menuOpen"
>
  <div class="p-6">

    <!-- Botón cerrar (pointerdown para respuesta rápida) -->
    <div class="flex justify-end">
      <button type="button" (pointerdown)="onTogglePointer($event)" (click)="toggleMenu()" class="p-2" aria-label="Cerrar menú">
        <i class="fas fa-times text-3xl text-red-custom"></i>
      </button>
    </div>

    <ul class="space-y-4 text-lg font-semibold">
      <li>
        <button class="flex justify-between items-center w-full" (click)="toggleRecetas()">
          Recetas
          <i class="fas fa-chevron-down transition-transform duration-200" [class.rotate-180]="recetasOpen"></i>
        </button>
        <ul *ngIf="recetasOpen" class="ml-4 mt-2 flex flex-col space-y-2">
          <li>
            <button class="flex justify-between items-center w-full" (click)="toggleDulces()">
              Dulces
              <i class="fas fa-chevron-down transition-transform duration-200" [class.rotate-180]="dulcesOpen"></i>
            </button>
            <ul *ngIf="dulcesOpen" class="ml-4 mt-1 flex flex-col space-y-1">
              <li class="text-red-custom" *ngFor="let cat of dulces">{{ cat.nombre }}</li>
            </ul>
          </li>
          <li>
            <button class="flex justify-between items-center w-full" (click)="toggleSaladas()">
              Saladas
              <i class="fas fa-chevron-down transition-transform duration-200" [class.rotate-180]="saladasOpen"></i>
            </button>
            <ul *ngIf="saladasOpen" class="ml-4 mt-1 flex flex-col space-y-1">
              <li class="text-red-custom" *ngFor="let cat of saladas">{{ cat.nombre }}</li>
            </ul>
          </li>
        </ul>
      </li>

      <li><button>Mi perfil</button></li>
      <li><button>Favoritos</button></li>
    </ul>
  </div>
</aside>

<!-- Fondo semitransparente -->
<div
  class="fixed inset-0 bg-black bg-opacity-50 z-25"
  *ngIf="menuOpen"
  (pointerdown)="toggleMenu()"
></div>

    

